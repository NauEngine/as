- ScriptModule - про создание instance, даже когда компилирует
- instance это object-like-c++ - у него первым полем vtable на функции, в функциях первый параметр this
- для создания OLC (object-like-c++) важен порядок функций
- для межскриптового взаимодейсвтия необходим c++ header файл с декларацией предоставляемых интерейсов, это гарантирует порядок функций vtable

- три "режима" работы скриптовой системы:
    - dev: когда объекты создаются на основе скриптовых файлов при помощи llvm и jit и тут есть Hot Reload
    - prod: когда объекты создаются на основе статических библиотек без участия llvm и jit
    - compile: когда создаются статические библиотеки

по коду модуля можно понять:
- какие внешние модули нужны (имя + тип) (это надо будет в компиляции)
- по каким интерфейсам надо создать ScriptModule

--------------------------------------------------------------------------------
External Interface: Native + Script

Core
- dev:
- prod:
- compile:


ScriptModule
- один скрипт, который является точкой входа для интерпретации/компиляции

- dev:
    - создать код модуля для поддержки runtime из ILanguageScript
    - создать код модуля с vtable на основе кода функций из ILanguageScript
    - материализовать код модуля с vtable
    - материализовать код модуля для поддержки runtime из ILanguageScript
    - создать instance

- prod:
    - биндинг vtable со статической библиотекой на основе __договоренностей__
    - биндинг runtime со статической библиотекой на основе __договоренностей__
    - создать instance

- compile:
    - создать код модуля для поддержки runtime из ILanguageScript
    - создать код модуля с vtable на основе кода функций из ILanguageScript
    - создать код модуля для поддержки runtime из ILanguageScript


ILanguage
- владеет Runtime для конкретного языка
- обеспечиает связь модулей конкретного языка с другими модулями

- dev:
    - управляет runtime (создание, владение, уничтожение)
    - создать код для поддержки runtime
    - материализует код для поддержки runtime
    - создает код для поддержки внешних модулей
    - материализует код для поддержки внешних модулей

- prod: не существует

- compile:
    - создает код для управления runtime (создание, владение, уничтожение)
    - создает код для поддержки runtime
    - создает код для поддержки внешних модулей


ILanguageScript
- компилирует и метериализует модуль конкретного языка

- dev:
    - получить список зависимых модулей
    - создать код модуля для поддержки runtime
    - создать код конкретной функции
    - материализовать код модуля для поддержки runtime

- prod: не существует

- compile:
    - получить список зависимых модулей
    - создать код модуля для поддержки runtime
    - создать код конкретной функции

